#!/bin/bash

# OpenFOAM install directory
FOAM_INST_DIR=/lustre/$(id -gn)/$(id -un)/OpenFOAM

unset DOWNLOAD_ONLY

# Number of processors
case `hostname` in
    reedbush-u[0-9]*)
# login node
	WM_NCOMPPROCS=1
	;;
    *)
# batch node
	WM_NCOMPPROCS=36
	;;
esac
export WM_NCOMPPROCS

# OpenFOAM version list to install
OpenFOAM_BUILD_OPTION_LIST=(
####
#### v1612+
####
    OpenFOAM_VERSION=OpenFOAM-v1612+,COMPILER_TYPE=system,COMPILER=Icc16_0_4_258,COMPILE_OPTION=Opt,ARCH_OPTION=64,PRECISION_OPTION=DP,LABEL_SIZE=32,MPLIB=INTELMPI5_1_3_258,BUILD_PARAVIEW=0
    OpenFOAM_VERSION=OpenFOAM-v1612+,COMPILER_TYPE=system,COMPILER=Icc17_0_4_196,COMPILE_OPTION=Opt,ARCH_OPTION=64,PRECISION_OPTION=DP,LABEL_SIZE=32,MPLIB=INTELMPI2017_3_196,BUILD_PARAVIEW=0
    OpenFOAM_VERSION=OpenFOAM-v1612+,COMPILER_TYPE=system,COMPILER=Icc18_1_163,COMPILE_OPTION=Opt,ARCH_OPTION=64,PRECISION_OPTION=DP,LABEL_SIZE=32,MPLIB=INTELMPI2018_1_163,BUILD_PARAVIEW=0
    OpenFOAM_VERSION=OpenFOAM-v1612+,COMPILER_TYPE=system,COMPILER=Icc18_1_163,COMPILE_OPTION=Opt,ARCH_OPTION=64,PRECISION_OPTION=DP,LABEL_SIZE=32,MPLIB=MPIMVAPICH2_2,BUILD_PARAVIEW=0
    OpenFOAM_VERSION=OpenFOAM-v1612+,COMPILER_TYPE=system,COMPILER=Icc18_1_163,COMPILE_OPTION=Opt,ARCH_OPTION=64,PRECISION_OPTION=DP,LABEL_SIZE=32,MPLIB=SYSTEMOPENMPI1_10_7,BUILD_PARAVIEW=0
    OpenFOAM_VERSION=OpenFOAM-v1612+,COMPILER_TYPE=system,COMPILER=Icc18_1_163,COMPILE_OPTION=Opt,ARCH_OPTION=64,PRECISION_OPTION=DP,LABEL_SIZE=32,MPLIB=SYSTEMOPENMPI2_1_2,BUILD_PARAVIEW=0
    OpenFOAM_VERSION=OpenFOAM-v1612+,COMPILER_TYPE=system,COMPILER=Gcc4_8_5,COMPILE_OPTION=Opt,ARCH_OPTION=64,PRECISION_OPTION=DP,LABEL_SIZE=32,MPLIB=OPENMPI,BUILD_PARAVIEW=1
###
### v1712
###
#    OpenFOAM_VERSION=OpenFOAM-v1712,COMPILER_TYPE=system,COMPILER=Gcc4_8_5,COMPILE_OPTION=Opt,ARCH_OPTION=64,PRECISION_OPTION=DP,LABEL_SIZE=32,MPLIB=OPENMPI,BUILD_PARAVIEW=1
)
